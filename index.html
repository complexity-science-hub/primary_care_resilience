<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Doctors activity in Vorarlberg</title>

  <link rel="stylesheet" href="./style.css" />


  <link rel="stylesheet" href="./leaflet/leaflet.css" />
  <script src="./leaflet/leaflet.js"></script>
  <script src="./jquery/jquery.min.js"></script>
  <script src="./chroma.min.js"></script>


  <script src="./globals.js"></script>
  <script src="./utils.js"></script>
  <script src="./buttons.js"></script>
  <script src="./draw.js"></script>
  <script src="./dynamics.js"></script>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-152532440-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-152532440-1');
    </script>



</head>

<body>

  <div id="mapid"></div>
  <!--<div class="paddingpane"></div>-->

  <div id="infos" class="right_float" style="text-align:justify;">
    <h3>Patient-Sharing Network</h3>
    <p>
      The anonymized model displays primary care providers (PCPs) in the Austrian province Vorarlberg as circles in randomized positions within each district.
    </p>
    <h4>Visual Encoding:</h4>
    <p>Hovering the mouse pointer over a circle displays a pop-up window with more detailed information on the PCP’s activity.</p>
    <p>By clicking a circle, the links to the direct neighbors in the patient-sharing network are displayed.</p>
    <p>The <b>SIZE OF A CIRCLE</b> indicates the current activity of a PCP, i.e., the average number of patients per quarter.</p>
    <p>The <b>COLOR OF A CIRCLE</b> indicates the current capacity of a PCP on a scale from green (average activity) to red (activity at maximum capacity).</p>
    <p>The <b>THICKNESS OF A LINK</b> shows the probability with which a patient would move from one PCP to the next one.</p>
    <h4>Removing a doctor:</h4>
    <p>Long-clicking or SHIFT-clicking a circle removes a doctor from the model. His/her patients are newly distributed across the patient-sharing network. The animation draws the links between removed and adjacent doctors.</p>
    <p>The circles grow in size according to the increase in patients.</p>
    <p>The color of the circle changes on a scale from green to red, indicating how much closer a doctor comes to his/her maximum capacity. If a PCP cannot accept incoming patients anymore, a new wave of distribution is triggered; to distinguish waves of patient referrals from one another, the links of each wave are drawn in a different color.</p>
    <br>
  </div>

  <div class="controls-info">
    <p><b>Click</b> on a circle (doctor) to display the patient-sharing network.<br>Click again to hide the links.</p>
    <p><b>Long-click</b> or <b>SHIFT-click</b> to remove a doctor.</p>
    <p><b>Doctor positions are randomized within each district.</b></p>
  </div>

  <div class="logos">
    <a target="_blank" rel="noopener noreferrer" href="https://www.csh.ac.at/"><img class="csh_logo" width="100px" src="./img/CSH_Logo.png"/></a>
    <img class="csh_logo" width="100px" src="./img/LogoSM.png"/>
  </div>

  <div id="info">
  </div>

  <div id="credits">

      <div id="crcontent">
        © D. R. Lo Sardo, S. Thurner, J. Sorger, G. Duftschmid, G. Endel, and P. Klimek - PNAS (2019)
          <!--<a target="_blank" rel="noopener noreferrer" href="https://www.pnas.org/content/early/2019/11/05/1904826116">read the original publication to find out more!</a>-->

          <button id="infobutton" type="button" target="_blank" rel="noopener noreferrer" onclick=window.open('https://www.pnas.org/content/early/2019/11/05/1904826116','_blank')>Click to publication</button>
      </div>

  </div>

  <script type="text/javascript">

//////////////////////////////////////
//////////////////////////////////////    

    Start();

//////////////////////////////////////
//////////////////////////////////////
var leafletattrib = document.getElementsByClassName( 'leaflet-control-attribution' )[0];
leafletattrib.classList = ["cr_right"];

document.getElementById("crcontent").appendChild(leafletattrib);

$('#info').hide();

  </script>
</body>
</html>
